# =============================================================================
# News Digest - Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values:
#   cp .env.example .env
# =============================================================================

# -----------------------------------------------------------------------------
# Required Secrets - You MUST set these
# -----------------------------------------------------------------------------

# JWT Secret Key (min 32 characters) - Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-super-secret-jwt-key-minimum-32-characters

# NewsAPI.org API Key - Get yours at https://newsapi.org/
NEWSAPI_KEY=your-newsapi-key-here

# OpenAI API Key - Get yours at https://platform.openai.com/
OPENAI_API_KEY=your-openai-api-key-here

# Database Password
POSTGRES_PASSWORD=newsdigest_secret

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------

# Application Environment: development, staging, production, testing
APP_ENV=development

# Enable debug mode
DEBUG=false

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# JWT Settings
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# OpenAI Model
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# CORS Configuration
# -----------------------------------------------------------------------------

# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost,http://localhost:3000,http://localhost:80

# -----------------------------------------------------------------------------
# Scheduler Configuration
# -----------------------------------------------------------------------------

# Enable scheduler for automatic digest generation
SCHEDULER_ENABLED=true

# How often to check for users due for digest (minutes)
DIGEST_CHECK_INTERVAL_MINUTES=15

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------

RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# Database Settings (Optional - docker-compose handles these)
# -----------------------------------------------------------------------------

# Only needed for local development without Docker
# DATABASE_URL=postgresql+asyncpg://newsdigest:password@localhost:5432/newsdigest_db
# DB_POOL_SIZE=5
# DB_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# pgAdmin Settings (for docker-compose)
# -----------------------------------------------------------------------------

PGADMIN_EMAIL=admin@newsdigest.local
PGADMIN_PASSWORD=admin

# -----------------------------------------------------------------------------
# Frontend Settings
# -----------------------------------------------------------------------------

# API URL for frontend (leave empty when using nginx reverse proxy)
# Set to http://localhost:8000 for standalone frontend development
NEXT_PUBLIC_API_URL=

# -----------------------------------------------------------------------------
# Logging (Optional)
# -----------------------------------------------------------------------------

LOG_FILE_PATH=/var/log/news-digest/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
LOG_JSON_FORMAT=true
