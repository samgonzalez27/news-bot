# =============================================================================
# News Digest - PRODUCTION Environment Variables (Example/Template)
# =============================================================================
# This file is a TEMPLATE for production deployment.
#
# Usage (DigitalOcean Droplet):
#   1. Copy this to your droplet as /opt/news-digest/.env
#   2. Fill in all production secrets (real API keys, strong passwords)
#   3. Ensure proper file permissions: chmod 600 .env
#   4. Run: docker compose -f docker-compose.yml -f docker-compose.prod.yml up -d
#
# SECURITY NOTES:
#   - Use strong, unique passwords for all secrets
#   - Never commit production secrets to version control
#   - Consider using Docker secrets or a vault for sensitive data
# =============================================================================

# -----------------------------------------------------------------------------
# Required Secrets - PRODUCTION VALUES (NEVER COMMIT REAL VALUES)
# -----------------------------------------------------------------------------

# JWT Secret Key - Generate with: openssl rand -hex 32
# MUST be different from development!
JWT_SECRET_KEY=GENERATE_A_NEW_64_CHAR_HEX_STRING_FOR_PRODUCTION

# NewsAPI.org API Key
NEWSAPI_KEY=your-production-newsapi-key

# OpenAI API Key
OPENAI_API_KEY=your-production-openai-api-key

# Database Password - Use a strong, unique password
# Generate with: openssl rand -base64 32
POSTGRES_PASSWORD=GENERATE_STRONG_PASSWORD_FOR_PRODUCTION

# -----------------------------------------------------------------------------
# Application Settings - Production defaults
# -----------------------------------------------------------------------------

# Environment identifier
APP_ENV=production

# Disable debug mode in production
DEBUG=false

# Production logging level
LOG_LEVEL=INFO

# JWT Settings
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440

# OpenAI Model
OPENAI_MODEL=gpt-4o-mini
OPENAI_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# CORS Configuration - Production
# -----------------------------------------------------------------------------
# Only allow your actual production domains
CORS_ORIGINS=https://dailydigestbot.com,https://www.dailydigestbot.com

# -----------------------------------------------------------------------------
# Scheduler Configuration
# -----------------------------------------------------------------------------

SCHEDULER_ENABLED=true
DIGEST_CHECK_INTERVAL_MINUTES=15

# -----------------------------------------------------------------------------
# Rate Limiting - Stricter for production
# -----------------------------------------------------------------------------

RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_BURST=10

# -----------------------------------------------------------------------------
# pgAdmin Settings - Consider disabling in production
# -----------------------------------------------------------------------------
# For production, you may want to remove pgAdmin entirely from docker-compose
# or restrict access via firewall

PGADMIN_EMAIL=admin@dailydigestbot.com
PGADMIN_PASSWORD=GENERATE_STRONG_PGADMIN_PASSWORD

# -----------------------------------------------------------------------------
# Frontend Settings
# -----------------------------------------------------------------------------
# Leave empty - nginx handles API routing internally
NEXT_PUBLIC_API_URL=

# -----------------------------------------------------------------------------
# Logging - Production settings
# -----------------------------------------------------------------------------

LOG_FILE_PATH=/var/log/news-digest/app.log
LOG_MAX_BYTES=52428800
LOG_BACKUP_COUNT=10
LOG_JSON_FORMAT=true

# -----------------------------------------------------------------------------
# SSL/TLS Configuration (for nginx-ssl.conf if using)
# -----------------------------------------------------------------------------
# DOMAIN=dailydigestbot.com
# SSL_CERT_PATH=/etc/letsencrypt/live/dailydigestbot.com/fullchain.pem
# SSL_KEY_PATH=/etc/letsencrypt/live/dailydigestbot.com/privkey.pem
